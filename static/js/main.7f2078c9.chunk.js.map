{"version":3,"sources":["global/consts.js","utils/getTime.ts","hoc/withMemo.tsx","utils/normalizeNum.ts","store/Streamer.ts","store/History.ts","store/index.ts","hoc/withStore.tsx","utils/getColorByCurrency.ts","components/Chart/Params/CurrencyList.tsx","components/Chart/Params/CurrencyNameWithDot.tsx","components/Chart/Params/CurrentStreamValue.tsx","components/Chart/Params/StreamBaseSwitch.tsx","components/Chart/Params/ChartParams.tsx","logo.svg","components/Loader.tsx","components/Chart/MainChart.tsx","components/AppBody.tsx","components/App.tsx","index.tsx"],"names":["PRICE","VOLUME","_parseDozens","val","Component","date","Date","isWithSeconds","d","getHours","getMinutes","getSeconds","filter","_","i","map","join","num","Number","toFixed","ECurrencyModel","types","enumeration","Object","keys","currencyColors","currency","model","name","streamValue","optional","number","Streamer","streamBy","string","subscribedCurrency","subscribedCurrencyBase","volatile","self","ccStreamer","WebSocket","channel","views","getRoot","history","this","historyOfPriceChange","historyOfSubsPriceChange","actions","afterCreate","onopen","subRequest","send","JSON","stringify","onmessage","onStreamMessage","onerror","e","console","log","message","data","parse","_streamBy","normalizeNum","toUpperCase","selectedItem","time","getTime","cName","FROMSYMBOL","cBase","TOSYMBOL","setGlobal","setSubs","streamByCurrencies","simpleCurrencyName","cryptoCurrencyName","switchHistory","heartBeat","streamBySimpleCurrency","streamByCryptoCurrency","setStreamBy","updateSubscribedCurrencyByLast","arr","slice","historyItem","History","array","api","axios","create","baseURL","timeout","headers","Authorization","Accept","streamer","getHistoryData","flow","Data","_historyItem","volumeto","filterBy","gHistory","getSnapshot","updatesForNewCurrency","length","clear","push","Store","stores","store","withStore","inject","observer","curr","DEFAULT","cb","isActive","list","useMemo","c","className","cs","active","currencyName","onClick","withMemo","props","useState","setIsActive","CColor","getColorByCurrency","onMouseEnter","onMouseLeave","style","background","boxShadow","React","memo","prev","next","prevStreamValue","setPrevStreamValue","priceClass","setPriceClass","useEffect","onAnimationEnd","Loader","src","logo","alt","tick","fontSize","fromColor","toColor","isDataNull","AreaChart","width","window","innerWidth","height","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","domain","Tooltip","Area","type","stroke","fillOpacity","fill","AppBody","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7f2078c9.chunk.js","sourcesContent":["export const PRICE = \"price\"\nexport const VOLUME = \"lastVolumeTo\"\n","function _parseDozens(val: number) {\n    return val < 10 ? \"0\" + val : val\n}\n\nexport default function (date = new Date(), isWithSeconds = false) {\n    const d = new Date(date)\n    return [\n        d.getHours(),\n        d.getMinutes(),\n        d.getSeconds()\n    ]\n        .filter((_, i) => isWithSeconds ? i !== 2 : true)\n        .map(i => _parseDozens(i))\n        .join(\":\")\n}\n// example output 23:59:59 | 00:01:01\n","import React, { FC } from \"react\";\n\nexport default (Component: FC<any>) => (\n    React.memo(\n        Component,\n        (prev, next) => (\n            JSON.stringify(prev) === JSON.stringify(next)\n        )\n    )\n)\n","export default function (num: any) {\n    return Number(num?.toFixed(3))\n}\n","import { getRoot, Instance, types } from \"mobx-state-tree\"\nimport { ECurrency } from \"../global/types\";\nimport { PRICE, VOLUME } from \"../global/consts\";\nimport { IHistoryItem } from \"./History\";\nimport getTime from \"../utils/getTime\";\nimport currencyColors from \"../global/currencyColors.json\";\nimport normalizeNum from \"../utils/normalizeNum\";\n\nexport const ECurrencyModel = types.enumeration(Object.keys(currencyColors))\n\nconst currency = types.model({\n    name: ECurrencyModel,\n    streamValue: types.optional(types.number, 0),\n})\n\nconst Streamer = types\n    .model(\"Streamer\", {\n        streamBy: types.optional(types.string, PRICE),\n        subscribedCurrency: types.optional(currency, { name: \"BTC\", }),\n        subscribedCurrencyBase: types.optional(currency, { name: \"USD\", }),\n    })\n    .volatile(self => ({\n        ccStreamer: new WebSocket(\"wss://streamer.cryptocompare.com/v2?api_key=\" + process.env.REACT_APP_CC_API_KEY),\n        channel: \"5~CCCAGG\",\n    }))\n    .views(self => ({\n        get history() {\n            return (getRoot(self) as any).history\n        },\n        get historyOfPriceChange() {\n            return this.history.historyOfPriceChange\n        },\n        get historyOfSubsPriceChange() {\n            return this.history.historyOfSubsPriceChange\n        },\n    }))\n    .actions((self) => ({\n        afterCreate() {\n            self.ccStreamer.onopen = function onStreamOpen() {\n                let subRequest = {\n                    \"action\": \"SubAdd\",\n                    \"subs\": [`${self.channel}~${self.subscribedCurrency.name}~${self.subscribedCurrencyBase.name}`],\n                };\n                self.ccStreamer.send(JSON.stringify(subRequest));\n            }\n\n            self.ccStreamer.onmessage = this.onStreamMessage\n\n            self.ccStreamer.onerror = (e) => console.log(e)\n\n        },\n        onStreamMessage(message: {data: string}) {\n            const data = JSON.parse(message.data)\n            const _streamBy = normalizeNum(data[self.streamBy.toUpperCase()])\n            if (_streamBy) {\n                const selectedItem = {\n                    time: getTime(),\n                    cName: data.FROMSYMBOL,\n                    cBase: data.TOSYMBOL,\n                    streamValue: _streamBy,\n                    streamBy: self.streamBy as any,\n                }\n\n                self.history.setGlobal(selectedItem)\n\n                if (\n                    data.TOSYMBOL === self.subscribedCurrencyBase.name &&\n                    data.FROMSYMBOL === self.subscribedCurrency.name\n                ) {\n                    self.subscribedCurrency.streamValue = _streamBy\n                    self.history.setSubs(selectedItem)\n                }\n            }\n        },\n        streamByCurrencies(simpleCurrencyName: ECurrency, cryptoCurrencyName: ECurrency) {\n            self.history.switchHistory((heartBeat: IHistoryItem) => (\n                heartBeat.cBase === simpleCurrencyName &&\n                heartBeat.cName === cryptoCurrencyName &&\n                heartBeat.streamBy === self.streamBy\n            ))\n\n            self.subscribedCurrencyBase.name = simpleCurrencyName\n            self.subscribedCurrency.name = cryptoCurrencyName\n\n            let subRequest = {\n                \"action\": \"SubAdd\",\n                \"subs\": [`${self.channel}~${cryptoCurrencyName}~${simpleCurrencyName}`],\n            };\n            self.ccStreamer.send(JSON.stringify(subRequest));\n        },\n        streamBySimpleCurrency(simpleCurrencyName: ECurrency) {\n            this.streamByCurrencies(simpleCurrencyName, self.subscribedCurrency.name as ECurrency)\n        },\n        streamByCryptoCurrency(cryptoCurrencyName: ECurrency) {\n            this.streamByCurrencies(self.subscribedCurrencyBase.name as ECurrency, cryptoCurrencyName)\n        },\n        setStreamBy(_streamBy: typeof PRICE | typeof VOLUME) {\n            self.streamBy = _streamBy\n            self.history.switchHistory((heartBeat: IHistoryItem) => (\n                heartBeat.streamBy === _streamBy && heartBeat.streamValue\n            ))\n        },\n        updateSubscribedCurrencyByLast(arr: Array<IHistoryItem>) {\n            self.subscribedCurrency.streamValue = arr.slice(-1)[0].streamValue\n        },\n    }))\n\nexport interface IStreamer extends Instance<typeof Streamer> {}\nexport default Streamer\n","import { flow, getRoot, getSnapshot, Instance, types } from \"mobx-state-tree\"\nimport currencyColors from \"../global/currencyColors.json\";\nimport { PRICE, VOLUME } from \"../global/consts\";\nimport axios from \"axios\";\nimport getTime from \"../utils/getTime\";\nimport normalizeNum from \"../utils/normalizeNum\";\nimport { IStreamer } from \"./Streamer\";\n\nconst ECurrencyModel = types.enumeration(Object.keys(currencyColors))\n\nconst historyItem = types.model({\n    time: types.string,\n    cName: ECurrencyModel,\n    cBase: ECurrencyModel,\n    streamValue: types.number,\n    streamBy: types.enumeration([PRICE, VOLUME]),\n})\n\nconst History = types\n    .model(\"History\", {\n        historyOfPriceChange: types.array(historyItem),\n        historyOfSubsPriceChange: types.array(historyItem),\n    })\n    .volatile(self => ({\n        api: axios.create({\n            baseURL: \"https://min-api.cryptocompare.com/data/v2\",\n            timeout: 5000,\n            headers: {\n                Authorization: \"Apikey \" + process.env.REACT_APP_CC_API_KEY,\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n        }),\n    }))\n    .views(self => ({\n        get streamer() {\n            return (getRoot(self) as any).streamer as IStreamer;\n        },\n        get subscribedCurrency() {\n            return this.streamer.subscribedCurrency.name\n        },\n        get subscribedCurrencyBase() {\n            return this.streamer.subscribedCurrencyBase.name\n        },\n    }))\n    .actions((self) => ({\n        afterCreate() {\n            this.getHistoryData()\n        },\n        getHistoryData: flow(function* () {\n            if (self.streamer.streamBy === VOLUME) {\n                const { data, } = yield self.api(`/histominute?fsym=${self.subscribedCurrency}&tsym=${self.subscribedCurrencyBase}&limit=50`)\n                const { Data, } = data.Data\n                const history = Data.map((_historyItem: any) => ({\n                    time: getTime(new Date(_historyItem.time * 1000), true),\n                    cName: self.subscribedCurrency,\n                    cBase: self.subscribedCurrencyBase,\n                    streamValue: normalizeNum(_historyItem.volumeto / 1000),\n                    streamBy: VOLUME,\n                })).slice(0, -1);\n\n\n                (self as IHistory).setGlobal(...history);\n                (self as IHistory).setSubs(...history);\n\n                self.streamer.updateSubscribedCurrencyByLast(history)\n            }\n        }),\n        switchHistory: flow(function* (filterBy: (heartBeat: IHistoryItem) => void) {\n            self.streamer.subscribedCurrency.streamValue = 0\n\n            const gHistory = getSnapshot(self.historyOfPriceChange)\n            const updatesForNewCurrency = gHistory.filter(filterBy)\n\n            if (updatesForNewCurrency.length) {\n                (self.historyOfSubsPriceChange as Array<IHistoryItem>) = updatesForNewCurrency as Array<IHistoryItem>\n                self.streamer.updateSubscribedCurrencyByLast(updatesForNewCurrency)\n            }\n            else {\n                self.historyOfSubsPriceChange.clear();\n                (self as IHistory).getHistoryData()\n            }\n        }),\n        setGlobal(...data:Array<IHistoryItem>) {\n            self.historyOfPriceChange.push(...data)\n        },\n        setSubs(...data:Array<IHistoryItem>) {\n\n            self.historyOfSubsPriceChange.push(...data)\n        },\n    }))\n\nexport interface IHistoryItem extends Instance<typeof historyItem> {}\nexport interface IHistory extends Instance<typeof History> {}\nexport default History\n","import Streamer from \"./Streamer\";\nimport History from \"./History\";\nimport { Instance, types } from \"mobx-state-tree\";\n\nconst Store = types.model(\"Store\", {\n    streamer: types.optional(Streamer, {}),\n    history: types.optional(History, {}),\n})\n\nexport interface IStore extends Instance<typeof Store> {}\n\nexport default Store.create()\n","import React, { FC } from \"react\";\nimport { inject, observer } from \"mobx-react\";\nimport store from \"../store\";\n\n//get all names of models on top level of store\nconst stores = Object.keys({ ...store, })\n\nexport const withStore = (Component: FC<any>) => (\n    inject(...stores)(observer(Component))\n)\n","import currencyColors from \"../global/currencyColors.json\";\nimport { ECurrency } from \"../global/types\";\n\nexport default function (curr: ECurrency) {\n    return currencyColors[curr] || currencyColors.DEFAULT\n}\n","import React, { FC, useMemo } from \"react\";\nimport CurrencyNameWithDot from \"./CurrencyNameWithDot\";\nimport { withStore } from \"../../../hoc/withStore\";\nimport { IStore } from \"../../../store\";\nimport cs from \"classnames\"\nimport { ECurrency } from \"../../../global/types\";\n\nexport interface ISettingsProps {\n    data: ECurrency[],\n    isActive?: boolean,\n    cb: (name: ECurrency) => void\n}\n\nconst CurrencyList: FC<IStore & ISettingsProps> = ({\n    data,\n    cb,\n    isActive,\n    streamer: {\n        subscribedCurrency,\n        subscribedCurrencyBase,\n    },\n}) => {\n    const cName = subscribedCurrency.name\n    const cBase = subscribedCurrencyBase.name\n\n    const list: typeof data = useMemo(() => (\n        data?.length ? (\n            data.filter(c => c !== cName && c !== cBase)\n        ) : []\n    ), [cName, cBase])\n\n    return (list.length ?\n        <div className={cs(\"currency-list\", { active: isActive, })}>\n            <div className=\"currency-list-before\"/>\n            {\n                list.map((currencyName: ECurrency, i) => (\n                    <CurrencyNameWithDot\n                        key={i}\n                        name={currencyName}\n                        onClick={() => cb(currencyName)}\n                    />\n                ))\n            }\n        </div> : <></>\n    )\n}\n\nexport default withStore(CurrencyList);\n","import React, { FC, useMemo, useState } from \"react\";\nimport { ECurrency } from \"../../../global/types\";\nimport withMemo from \"../../../hoc/withMemo\";\nimport getColorByCurrency from \"../../../utils/getColorByCurrency\";\nimport CurrencySettings, { ISettingsProps } from \"./CurrencyList\";\n\ninterface IProps {\n    name: ECurrency,\n    onClick?: () => void,\n    data: ECurrency[]\n}\n\nconst CurrencyNameWithDot:FC<ISettingsProps & IProps> =\n({\n    name,\n    cb,\n    data,\n    ...props\n}) => {\n    const [isActive, setIsActive] = useState(false)\n    const CColor = useMemo(() => getColorByCurrency(name), [name])\n\n    return (\n        <div\n            className={\"currency\"}\n            onMouseEnter={() => setIsActive(true)}\n            onMouseLeave={() => setIsActive(false)}\n            {...props}\n        >\n            <div className=\"dot\" style={{\n                background: CColor,\n                boxShadow: \"0 0 7px \" + CColor,\n            }}/>\n            <p>{name}</p>\n\n            <CurrencySettings {...{ cb, data, isActive, }}/>\n        </div>\n    );\n};\n\nexport default withMemo(CurrencyNameWithDot);\n","import React, { FC, useEffect, useState } from \"react\";\nimport cs from \"classnames\";\nimport { withStore } from \"../../../hoc/withStore\";\nimport { IStore } from \"../../../store\";\n\nconst CurrentStreamValue: FC<IStore> = ({\n    streamer: {\n        subscribedCurrency: {\n            streamValue,\n        },\n    },\n}) => {\n    const [prevStreamValue, setPrevStreamValue] = useState(0)\n    const [priceClass, setPriceClass] = useState(\"\")\n\n    useEffect(() => {\n        if (streamValue >= prevStreamValue) {\n            setPriceClass(\"green\")\n        }\n        else {\n            setPriceClass(\"red\")\n        }\n\n        setPrevStreamValue(streamValue)\n\n    }, [streamValue])\n\n\n    return (\n        <>\n            {\n                !!streamValue && <p\n                    onAnimationEnd={() => setPriceClass(\"\")}\n                    className={cs(\"price-lighten\", priceClass)}\n                >\n                    curr: {streamValue}\n                </p>\n            }\n        </>\n    );\n};\n\nexport default withStore(CurrentStreamValue)\n","import React, { FC } from \"react\";\nimport { withStore } from \"../../../hoc/withStore\";\nimport { IStore } from \"../../../store\";\nimport cs from \"classnames\";\nimport { PRICE, VOLUME } from \"../../../global/consts\";\n\nconst StreamBaseSwitch: FC<IStore> = ({\n    streamer: {\n        streamBy,\n        setStreamBy,\n    },\n}) => {\n    function volActive() {\n        setStreamBy(VOLUME)\n    }\n    function priceActive() {\n        setStreamBy(PRICE)\n    }\n\n    return (\n        <div className={\"switch\"}>\n            <div onClick={volActive} className={cs({ active: streamBy === VOLUME, })}>\n                VOL\n            </div>\n            <div onClick={priceActive} className={cs({ active: streamBy === PRICE, })}>\n                PRICE\n            </div>\n        </div>\n    );\n};\n\nexport default withStore(StreamBaseSwitch);\n","import React, { FC } from \"react\";\nimport { withStore } from \"../../../hoc/withStore\";\nimport { IStore } from \"../../../store\";\nimport CurrencyNameWithDot from \"./CurrencyNameWithDot\";\nimport CurrentPrice from \"./CurrentStreamValue\";\nimport StreamBaseSwitch from \"./StreamBaseSwitch\";\n\nconst ChartParams: FC<IStore> = ({\n    streamer: {\n        subscribedCurrency,\n        streamBySimpleCurrency,\n        streamByCryptoCurrency,\n        subscribedCurrencyBase,\n    },\n}) => {\n    return (\n        <div className=\"currency main\">\n            <CurrentPrice/>\n\n            <StreamBaseSwitch/>\n\n            <CurrencyNameWithDot\n                name={subscribedCurrency.name}\n                data={[\"BTC\", \"ETH\", \"XRP\", \"LTC\"]}\n                cb={streamByCryptoCurrency}\n            />\n\n            <CurrencyNameWithDot\n                name={subscribedCurrencyBase.name}\n                data={[\"USD\", \"EUR\", \"JPY\", \"USDT\"]}\n                cb={streamBySimpleCurrency}\n            />\n        </div>\n    );\n};\n\nexport default withStore(ChartParams)\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { FC } from \"react\";\nimport logo from \"../logo.svg\";\n\nconst Loader: FC = () => {\n    return (\n        <div className={\"nullChart\"}>\n            <span>The data will appear here</span>\n            <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        </div>\n    );\n};\n\nexport default Loader;\n","import React, { FC } from \"react\";\nimport { getSnapshot } from \"mobx-state-tree\";\nimport { Area, AreaChart, CartesianGrid, Tooltip, XAxis, YAxis } from \"recharts\";\nimport { withStore } from \"../../hoc/withStore\";\nimport { IStore } from \"../../store\";\nimport getColorByCurrency from \"../../utils/getColorByCurrency\";\nimport { ECurrency } from \"../../global/types\";\nimport Loader from \"../Loader\";\n\nconst MainChart:FC<IStore> = ({\n    streamer: {\n        subscribedCurrency,\n        subscribedCurrencyBase,\n        streamBy,\n    },\n    history: {\n        historyOfSubsPriceChange,\n    },\n}) => {\n\n    const tick = {\n        fontSize: 11,\n    }\n\n    const fromColor = getColorByCurrency(subscribedCurrency.name as ECurrency)\n    const toColor = getColorByCurrency(subscribedCurrencyBase.name as ECurrency)\n\n    const data = getSnapshot(historyOfSubsPriceChange)\n    const isDataNull = data.length < 2\n\n\n    return (\n        <>\n            {isDataNull && <Loader/>}\n            <AreaChart\n                width={window.innerWidth - 100}\n                height={400}\n                data={isDataNull ? [] : data}\n            >\n                <defs>\n                    <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                        <stop offset=\"5%\" stopColor={fromColor} stopOpacity={0.8}/>\n                        <stop offset=\"95%\" stopColor={toColor} stopOpacity={0.1}/>\n                    </linearGradient>\n                </defs>\n                <CartesianGrid strokeDasharray=\"3\" />\n                <XAxis dataKey=\"time\" { ...{ tick, }} />\n                <YAxis domain={[\"dataMin\", \"dataMax\"]} { ...{ tick, }} />\n                <Tooltip />\n                <Area\n                    type=\"monotone\"\n                    name={streamBy}\n                    dataKey={\"streamValue\"}\n                    stroke={fromColor}\n                    fillOpacity={1}\n                    fill=\"url(#colorUv)\"\n                />\n            </AreaChart>\n        </>\n    );\n};\n\nexport default withStore(MainChart);\n","import React, { FC } from \"react\";\nimport ChartParams from \"./Chart/Params/ChartParams\";\nimport MainChart from \"./Chart/MainChart\";\n\nconst AppBody: FC = () => {\n    return (\n        <>\n            <ChartParams/>\n            <MainChart/>\n        </>\n    );\n};\n\nexport default AppBody;\n","import \"../scss/App.scss\";\nimport React, { FC } from \"react\";\nimport AppBody from \"./AppBody\";\n\nconst App:FC = () => {\n    return (\n        <div className=\"App\">\n            <div className=\"App-body\">\n                <AppBody/>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./scss/index.scss\";\nimport App from \"../src/components/App\";\nimport store from \"./store\";\nimport { Provider } from \"mobx-react\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider {...store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}